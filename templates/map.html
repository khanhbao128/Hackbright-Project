{% extends 'base.html' %}


{% block title %}
    <style>
      /* Set the size of the div element that contains the map */
      #map {
        /*height: 400px;   The height is 400 pixels */
        width: 100%;  /* The width is the width of the web page */
       }
        html, body {
            height: 100%;
        }
    </style>
{% endblock %}


{% block content %}

    <h3>Locate a Fertility Clinic</h3>

    <!-- Create a search bar -->
        <form action='/get-state-city' method="POST">
        Use the map below and select a city and a state to locate fertility clinics near you. Learn about the services they provide, the types of patients they see, and their success rates.<br><br>
        <br><br>

        Location:
            <input type="text" id="autocomplete-location" name='location'/>
            <input type='submit' id='go' value="Go"><br><br>
        </form>

    

  
         

    <!--The div element for the map -->
    <div id="map" style="height:400px; width:400px"></div>
    <script>
        function initGoogle() {
            // The location of Uluru
            const uluru = { lat: 39.381266, lng: -97.922211 };
            // The map, centered at Uluru
            const map = new google.maps.Map(
              document.getElementById('map'),
              { zoom: 3, center: uluru }
            );
            // The marker, positioned at Uluru
            const marker = new google.maps.Marker({ position: uluru, map: map });
            
            const autocomplete1 = new google.maps.places.Autocomplete(
                document.getElementById('autocomplete-location'),
                { types: [ '(cities)' ] }
            );

            google.maps.event.addListener(autocomplete1, 'place_changed', function(){
                var place = autocomplete1.getPlace();
                
            })
        }

                
    </script>

    <script async defer type="text/javascript" src="https://maps.googleapis.com/maps/api/js?key=AIzaSyA1y8atwwt1qwp5VH6k-Wm1Xwqkuw3IgxM&libraries=places&callback=initGoogle"></script>

    <!-- <script async defer
    src="https://maps.googleapis.com/maps/api/js?key=AIzaSyA1y8atwwt1qwp5VH6k-Wm1Xwqkuw3IgxM&callback=initMap">
    </script> -->
    


{% endblock %}